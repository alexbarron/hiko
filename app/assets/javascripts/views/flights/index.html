<h3>Flights <a ng-show="ctrl.user" href="" ui-sref="flights.new" ng-click="ctrl.loadForm()" class="btn btn-primary">Add Flight</a></h3>

<div ui-view></div>

<h5>Flight Search & Filters</h5>
<input ng-model="ctrl.search" ng-change="ctrl.searchList()" placeholder="Search Flights"/>
<a href="" class="btn btn-primary" ng-click="ctrl.filterDates('all')">All Flights</a>
<a href="" class="btn btn-primary" ng-click="ctrl.filterDates('past')">Past Flights</a>
<a href="" class="btn btn-primary" ng-click="ctrl.filterDates('future')">Future Flights</a>

<table class="table table-striped table-condensed">
  <tr>
    <th></th>
    <th>Departure Time</th>
    <th>Departure Airport</th>
    <th>Arrival Time</th>  
    <th>Arrival Airport</th>
    <th>Airline</th>
    <th>Flight Number</th>
  </tr>
  <tr ng-repeat="flight in ctrl.filteredList | orderBy: 'departure'">
    <td><a href="" ui-sref="flight({id: flight.id})" class="btn btn-primary btn-xs">Details</a></td>
    <td>{{ flight.departure | date:'short' }}</td>
    <td>{{ flight.origin.label }}</td>
    <td>{{ flight.arrival | date:'short' }}</td>  
    <td>{{ flight.destination.label }}</td>
    <td>{{ flight.airline_name }}</td>
    <td>{{ flight.id }}</td>
  </tr>
</table>